<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Registration | Lamar</title>
    <meta name="description" content=".NET Fast Inversion of Control and Dynamic code weaving tools">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/lamar/assets/style.CnEDqSnK.css" as="style">
    <link rel="preload stylesheet" href="/lamar/vp-icons.css" as="style">
    
    <script type="module" src="/lamar/assets/app.BqZXBnA5.js"></script>
    <link rel="preload" href="/lamar/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/lamar/assets/chunks/theme.CH0AXjcd.js">
    <link rel="modulepreload" href="/lamar/assets/chunks/framework.B2AeMXkx.js">
    <link rel="modulepreload" href="/lamar/assets/guide_ioc_registration_index.md.iDBOcSAh.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/lamar/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>Lamar</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/lamar/guide/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/JasperFx/lamar/releases" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Release Notes</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://discord.gg/WMxrvegf8H" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Discord | Join Chat</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Getting Started</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>What is Lamar</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Inversion of Control</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lamar as IoC Container</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/concepts.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Software Design Concepts</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/bootstrapping.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Bootstrapping a Container</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/aspnetcore.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Integration with ASP.NET Core</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/blazor.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Integration with Blazor</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/registration/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Registration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/lifetime.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Service Lifetimes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/resolving/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Resolving Services</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/generics.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Generic Types</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/decorators.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Decorators, Interceptors, and Activators</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/diagnostics/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lamar Diagnostics</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/auto-wiring.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Auto Wiring</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/lambdas.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Building Objects with Lambdas</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/injecting-at-runtime.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Injecting Services at Runtime</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/disposing.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lamar, IDisposable, and IAsyncDisposable</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/lazy-resolution.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lazy Resolution</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/nested-containers.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Nested Containers (Per Request/Transaction)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/setter-injection.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Setter Injection</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/working-with-enumerable-types.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Working with Enumerable Types</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _lamar_guide_ioc_registration_" data-v-39a288b8><div><h1 id="registration" tabindex="-1">Registration <a class="header-anchor" href="#registration" aria-label="Permalink to &quot;Registration&quot;">â€‹</a></h1><p>Lamar provides a streamlined fluent interface called the <em>Registry DSL</em> to configure a Lamar Container with both explicit registrations and conventional auto-registrations based on the older <a href="http://structuremap.github.io/registration/registry-dsl/" target="_blank" rel="noreferrer">StructureMap syntax</a>. In addition, Lamar also directly supports the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.1" target="_blank" rel="noreferrer">ASP.Net Core DI style of service registrations</a> (<a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection?view=aspnetcore-2.1" target="_blank" rel="noreferrer">IServiceCollection</a>) to ease the usage of Lamar with the entire .Net Core ecosystem.</p><p>The first step in using Lamar is configuring a <code>Container</code> object. The following examples are based on the usage of the <a href="/lamar/guide/ioc/registration/registry-dsl.html">ServiceRegistry DSL</a>.</p><p>Let&#39;s say that you have a simple set of services like this:</p><p><a id="snippet-sample_foobar-model"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IBar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Bar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IBar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IFoo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IFoo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IBar</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Bar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bar;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IBar</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Bar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/Lamar.Testing/Samples/Models.cs#L3-L27" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_foobar-model" title="Start of snippet">anchor</a></sup></p><p>A simple configuration of a Lamar Container might then be:</p><p><a id="snippet-sample_quickstart-configure-the-container"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example #1 - Create an container instance and directly pass in the configuration.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> container1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IFoo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IBar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Bar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example #2 - Create an container instance but add configuration later.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> container2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            container2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IFoo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IBar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Bar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            });</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/StructureMap.Testing/Samples/quickstart/configuring_the_container.cs#L19-L35" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_quickstart-configure-the-container" title="Start of snippet">anchor</a></sup></p><p>Initializing or configuring the container is usually done at application startup and is located as close as possible to the application&#39;s entry point. This place is sometimes referred to as the composition root of the application. In our example we are composing our application&#39;s object graph by connecting abstractions to concrete types.</p><p>We are using the fluent API <code>For&lt;TInterface&gt;().Use&lt;TConcrete&gt;()</code> which registers a default instance for a given service type (the TInterface type in this case). In our example we want an new instance of <code>Foo</code> every time we request the abstraction <code>IFoo</code>.</p><p>The recommended way of using the <a href="/lamar/guide/ioc/registration/registry-dsl.html">ServiceRegistry DSL</a> is by defining one or more <code>ServiceRegistry</code> classes. Typically, you would subclass the <code>ServiceRegistry</code> class, then use the Fluent API methods exposed by the <code>ServiceRegistry</code> class to describe a <code>Container</code> configuration. Here&#39;s a sample <code>ServiceRegistry</code> class used to configure the same types as in our previous example:</p><p><a id="snippet-sample_foobar-registry"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FooBarRegistry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceRegistry</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FooBarRegistry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IFoo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IBar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Bar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/Lamar.Testing/Samples/Registries.cs#L3-L14" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_foobar-registry" title="Start of snippet">anchor</a></sup></p><p>When you set up a <code>Container</code> , you need to simply direct the <code>Container</code> to use the configuration in that <code>ServiceRegistry</code> class.</p><p><a id="snippet-sample_quickstart-configure-the-container-using-a-registry"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example #1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> container1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FooBarRegistry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example #2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> container2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddRegistry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FooBarRegistry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(); });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example #3 -- create a container for a single Registry</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> container3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Container.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FooBarRegistry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/StructureMap.Testing/Samples/quickstart/configuring_the_container.cs#L40-L49" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_quickstart-configure-the-container-using-a-registry" title="Start of snippet">anchor</a></sup></p><div class="tip custom-block"><p class="custom-block-title">INFO</p><p>The Lamar team highly recommends using <code>ServiceRegistry</code> classes for your real application configuration. The syntax is shorter inside the Registry class constructor than from within the <code>Container</code> constructor method. In addition, Registry classes can be used to modularize the configuration of a bigger application into more manageable chunks. Lastly, using <code>ServiceRegistry</code> classes makes it easier to stand up additional <code>Container</code> objects in testing scenarios that reflect the real application composition.</p></div><p>In real world applications you also have to deal with repetitive similar registrations. Such registrations are tedious, easy to forget and can be a weak spot in your application. Lamar provides <a href="/lamar/guide/ioc/registration/auto-registration-and-conventions.html">auto-registration and conventions</a> which mitigates this pain and eases the maintenance burden. Lamar exposes this feature through the <a href="/lamar/guide/ioc/registration/registry-dsl.html">ServiceRegistry DSL</a> by the <code>Scan</code> method.</p><p>In our example there is an reoccurring pattern, we are connecting the service type <code>ISomething</code> to a concrete type <code>Something</code>, meaning <code>IFoo</code> to <code>Foo</code> and <code>IBar</code> to <code>Bar</code>. Wouldn&#39;t it be cool if we could write a convention for exactly doing that? Fortunately Lamar has already one build in. Let&#39;s see how we can create an container with the same configuration as in the above examples.</p><p><a id="snippet-sample_quickstart-configure-the-container-using-auto-registrations-and-conventions"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example #1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> container1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanner</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    scanner.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TheCallingAssembly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    scanner.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithDefaultConventions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example #2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> container2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            container2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scanner</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    scanner.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TheCallingAssembly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    scanner.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithDefaultConventions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }));</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/StructureMap.Testing/Samples/quickstart/configuring_the_container.cs#L54-L74" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_quickstart-configure-the-container-using-auto-registrations-and-conventions" title="Start of snippet">anchor</a></sup></p><p>We instruct the scanner to scan through the calling assembly with default conventions on. This will find and register the default instance for <code>IFoo</code> and <code>IBar</code> which are obviously the concrete types <code>Foo</code> and <code>Bar</code>. Now whenever you add an additional interface <code>IMoreFoo</code> and a class <code>MoreFoo</code> to your application&#39;s code base, it&#39;s automatically picked up by the scanner.</p><p>Sometimes classes need to be supplied with some primitive value in its constructor. For example the <code>System.Data.SqlClient.SqlConnection</code> needs to be supplied with the connection string in its constructor. No problem, just set up the value of the constructor argument in the bootstrapping:</p><p><a id="snippet-sample_quickstart-container-with-primitive-value"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //just for demo purposes, normally you don&#39;t want to embed the connection string directly into code.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IDbConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SqlConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Ctor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;YOUR_CONNECTION_STRING&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //a better way would be providing a delegate that retrieves the value from your app config.    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/StructureMap.Testing/Samples/quickstart/configuring_the_container.cs#L79-L86" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_quickstart-container-with-primitive-value" title="Start of snippet">anchor</a></sup></p><p>So far you have seen an couple of ways to work with the <a href="/lamar/guide/ioc/registration/registry-dsl.html">ServiceRegistry DSL</a> and configure a <code>Container</code> object. We have seen examples of configuration that allow us to build objects that don&#39;t depend on anything like the <code>Bar</code> class, or do depend on other types like the <code>Foo</code> class needs an instance of <code>IBar</code>. In our last example we have seen configuration for objects that need some primitive types like strings in its constructor function.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/lamar/guide/ioc/blazor.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Integration with Blazor</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/lamar/guide/ioc/lifetime.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Service Lifetimes</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"guide_compilation_assembly-generator.md\":\"BO4yNRrE\",\"guide_compilation_frames_extension-methods.md\":\"Cr08iMBC\",\"guide_compilation_frames_frame.md\":\"ehqzhZb4\",\"guide_compilation_frames_index.md\":\"CB7Voqbw\",\"guide_compilation_frames_injected-fields.md\":\"uDLmj7mQ\",\"guide_compilation_frames_variables.md\":\"C0UqaQmr\",\"guide_compilation_index.md\":\"DO5yFNKP\",\"guide_compilation_source-writer.md\":\"DmaFS_yH\",\"guide_index.md\":\"lXc6eUv0\",\"guide_ioc_aspnetcore.md\":\"2p4tcF93\",\"guide_ioc_auto-wiring.md\":\"DtyouIC2\",\"guide_ioc_blazor.md\":\"CDmQoIQA\",\"guide_ioc_bootstrapping.md\":\"vXKhsQfO\",\"guide_ioc_concepts.md\":\"hu7Ac-Fp\",\"guide_ioc_decorators.md\":\"CcecmKX0\",\"guide_ioc_diagnostics_build-plans.md\":\"C_44sVzO\",\"guide_ioc_diagnostics_environment-tests.md\":\"DD_MlbHP\",\"guide_ioc_diagnostics_index.md\":\"sWKuZJ9D\",\"guide_ioc_diagnostics_type-scanning.md\":\"CJbvCItG\",\"guide_ioc_diagnostics_using-the-container-model.md\":\"DiQ7gGwd\",\"guide_ioc_diagnostics_validating-container-configuration.md\":\"DiHknPnO\",\"guide_ioc_diagnostics_what-do-i-have.md\":\"DKxX1mLn\",\"guide_ioc_disposing.md\":\"1y8rOFQj\",\"guide_ioc_generics.md\":\"DxXbLF2r\",\"guide_ioc_index.md\":\"CfBJYWlv\",\"guide_ioc_injecting-at-runtime.md\":\"BttZg1kK\",\"guide_ioc_lambdas.md\":\"B0bwXutE\",\"guide_ioc_lazy-resolution.md\":\"CRpKkuXa\",\"guide_ioc_lifetime.md\":\"Hy7r5yeb\",\"guide_ioc_nested-containers.md\":\"BKfTwtki\",\"guide_ioc_registration_attributes.md\":\"DaWBA3KM\",\"guide_ioc_registration_auto-registration-and-conventions.md\":\"DRjjlQoW\",\"guide_ioc_registration_changing-configuration-at-runtime.md\":\"CvX_e-bI\",\"guide_ioc_registration_configured-instance.md\":\"DFOXM_GC\",\"guide_ioc_registration_constructor-selection.md\":\"C-uSzVfL\",\"guide_ioc_registration_existing-objects.md\":\"C-D6J46x\",\"guide_ioc_registration_index.md\":\"iDBOcSAh\",\"guide_ioc_registration_inline-dependencies.md\":\"DJRGgnQf\",\"guide_ioc_registration_overrides.md\":\"CXwXripr\",\"guide_ioc_registration_policies.md\":\"DMF6OX1x\",\"guide_ioc_registration_registry-dsl.md\":\"Ci6q_96G\",\"guide_ioc_resolving_get-a-service-by-plugin-type-and-name.md\":\"w1g0ULYz\",\"guide_ioc_resolving_get-a-service-by-service-type.md\":\"Zxuey_eq\",\"guide_ioc_resolving_get-all-services-by-service-type.md\":\"DuEve47a\",\"guide_ioc_resolving_index.md\":\"qxKKzGKc\",\"guide_ioc_resolving_requesting-a-concrete-type.md\":\"CDX9bRN1\",\"guide_ioc_resolving_try-getting-an-optional-service-by-service-type-and-name.md\":\"D1moDDA5\",\"guide_ioc_resolving_try-getting-an-optional-service-by-service-type.md\":\"DYHQIp0H\",\"guide_ioc_setter-injection.md\":\"DWG9jJ9S\",\"guide_ioc_working-with-enumerable-types.md\":\"BX-JSmqt\",\"index.md\":\"DJPVxN8O\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Lamar\",\"description\":\".NET Fast Inversion of Control and Dynamic code weaving tools\",\"base\":\"/lamar/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":null,\"repo\":\"JasperFx/lamar\",\"docsDir\":\"docs\",\"docsBranch\":\"master\",\"editLinks\":true,\"editLinkText\":\"Suggest changes to this page\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/\"},{\"text\":\"Release Notes\",\"link\":\"https://github.com/JasperFx/lamar/releases\"},{\"text\":\"Discord | Join Chat\",\"link\":\"https://discord.gg/WMxrvegf8H\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":{\"/\":[{\"text\":\"Getting Started\",\"collapsed\":false,\"items\":[{\"text\":\"What is Lamar\",\"link\":\"/guide/\"}]},{\"text\":\"Inversion of Control\",\"collapsed\":false,\"items\":[{\"text\":\"Lamar as IoC Container\",\"link\":\"/guide/ioc/\"},{\"text\":\"Software Design Concepts\",\"link\":\"/guide/ioc/concepts\"},{\"text\":\"Bootstrapping a Container\",\"link\":\"/guide/ioc/bootstrapping\"},{\"text\":\"Integration with ASP.NET Core\",\"link\":\"/guide/ioc/aspnetcore\"},{\"text\":\"Integration with Blazor\",\"link\":\"/guide/ioc/blazor\"},{\"text\":\"Registration\",\"link\":\"/guide/ioc/registration/\",\"children\":[{\"text\":\"ServiceRegistry DSL\",\"link\":\"/guide/ioc/registration/registry-dsl\"},{\"text\":\"Inline Dependencies\",\"link\":\"/guide/ioc/registration/inline-dependencies\"},{\"text\":\"Auto-Registration and Conventions\",\"link\":\"/guide/ioc/registration/auto-registration-and-conventions\"},{\"text\":\"Working with IConfiguredInstance\",\"link\":\"/guide/ioc/registration/configured-instance\"},{\"text\":\"Policies\",\"link\":\"/guide/ioc/registration/policies\"},{\"text\":\"Changing Configuration at Runtime\",\"link\":\"/guide/ioc/registration/changing-configuration-at-runtime\"},{\"text\":\"Constructor Selection\",\"link\":\"/guide/ioc/registration/constructor-selection\"},{\"text\":\"Registering Existing Objects\",\"link\":\"/guide/ioc/registration/existing-objects\"},{\"text\":\"Using Attributes for Configuration\",\"link\":\"/guide/ioc/registration/attributes\"},{\"text\":\"Overriding Service Registrations\",\"link\":\"/guide/ioc/registration/overrides\"}]},{\"text\":\"Service Lifetimes\",\"link\":\"/guide/ioc/lifetime\"},{\"text\":\"Resolving Services\",\"link\":\"/guide/ioc/resolving/\",\"children\":[{\"text\":\"Get a Service by Service Type\",\"link\":\"/guide/ioc/resolving/get-a-service-by-service-type\"},{\"text\":\"Get a Service by Service Type and Name\",\"link\":\"/guide/ioc/resolving/get-a-service-by-service-type-and-name\"},{\"text\":\"Get all Services by Service Type\",\"link\":\"/guide/ioc/resolving/get-all-services-by-service-type\"},{\"text\":\"Try Getting an Optional Service by Service Type\",\"link\":\"/guide/ioc/resolving/try-getting-an-optional-service-by-service-type\"},{\"text\":\"Try Getting an Optional Service by Service Type and Name\",\"link\":\"/guide/ioc/resolving/try-getting-an-optional-service-by-service-type-and-name\"},{\"text\":\"Auto Resolving Concrete Types\",\"link\":\"/guide/ioc/resolving/requesting-a-concrete-type\"}]},{\"text\":\"Generic Types\",\"link\":\"/guide/ioc/generics\"},{\"text\":\"Decorators, Interceptors, and Activators\",\"link\":\"/guide/ioc/decorators\"},{\"text\":\"Lamar Diagnostics\",\"link\":\"/guide/ioc/diagnostics/\",\"children\":[{\"text\":\"WhatDoIHave()\",\"link\":\"/guide/ioc/diagnostics/what-do-i-have\"},{\"text\":\"Validating Container Configuration\",\"link\":\"/guide/ioc/diagnostics/validating-container-configuration\"},{\"text\":\"Environment Tests\",\"link\":\"/guide/ioc/diagnostics/environment-tests\"},{\"text\":\"Build Plans\",\"link\":\"/guide/ioc/diagnostics/build-plans\"},{\"text\":\"Using the Container Model\",\"link\":\"/guide/ioc/diagnostics/using-the-container-model\"},{\"text\":\"Type Scanning Diagnostics\",\"link\":\"/guide/ioc/diagnostics/type-scanning\"}]},{\"text\":\"Auto Wiring\",\"link\":\"/guide/ioc/auto-wiring\"},{\"text\":\"Building Objects with Lambdas\",\"link\":\"/guide/ioc/lambdas\"},{\"text\":\"Injecting Services at Runtime\",\"link\":\"/guide/ioc/injecting-at-runtime\"},{\"text\":\"Lamar, IDisposable, and IAsyncDisposable\",\"link\":\"/guide/ioc/disposing\"},{\"text\":\"Lazy Resolution\",\"link\":\"/guide/ioc/lazy-resolution\"},{\"text\":\"Nested Containers (Per Request/Transaction)\",\"link\":\"/guide/ioc/nested-containers\"},{\"text\":\"Setter Injection\",\"link\":\"/guide/ioc/setter-injection\"},{\"text\":\"Working with Enumerable Types\",\"link\":\"/guide/ioc/working-with-enumerable-types\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>