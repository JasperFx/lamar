<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started | Lamar</title>
    <meta name="description" content=".NET Fast Inversion of Control and Dynamic code weaving tools">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/lamar/assets/style.CnEDqSnK.css" as="style">
    <link rel="preload stylesheet" href="/lamar/vp-icons.css" as="style">
    
    <script type="module" src="/lamar/assets/app.BqZXBnA5.js"></script>
    <link rel="preload" href="/lamar/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/lamar/assets/chunks/theme.CH0AXjcd.js">
    <link rel="modulepreload" href="/lamar/assets/chunks/framework.B2AeMXkx.js">
    <link rel="modulepreload" href="/lamar/assets/guide_index.md.lXc6eUv0.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/lamar/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>Lamar</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/lamar/guide/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/JasperFx/lamar/releases" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Release Notes</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://discord.gg/WMxrvegf8H" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Discord | Join Chat</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Getting Started</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>What is Lamar</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Inversion of Control</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lamar as IoC Container</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/concepts.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Software Design Concepts</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/bootstrapping.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Bootstrapping a Container</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/aspnetcore.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Integration with ASP.NET Core</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/blazor.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Integration with Blazor</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/registration/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Registration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/lifetime.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Service Lifetimes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/resolving/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Resolving Services</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/generics.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Generic Types</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/decorators.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Decorators, Interceptors, and Activators</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/diagnostics/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lamar Diagnostics</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/auto-wiring.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Auto Wiring</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/lambdas.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Building Objects with Lambdas</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/injecting-at-runtime.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Injecting Services at Runtime</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/disposing.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lamar, IDisposable, and IAsyncDisposable</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/lazy-resolution.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Lazy Resolution</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/nested-containers.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Nested Containers (Per Request/Transaction)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/setter-injection.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Setter Injection</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/lamar/guide/ioc/working-with-enumerable-types.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Working with Enumerable Types</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _lamar_guide_" data-v-39a288b8><div><h1 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-label="Permalink to &quot;Getting Started&quot;">​</a></h1><p>This page does assume that you are already familiar with IoC containers. For more background on the concepts and usage of an IoC container within your application, see <a href="/lamar/guide/ioc/concepts.html">concepts</a></p><h2 id="what-is-lamar" tabindex="-1">What is Lamar? <a class="header-anchor" href="#what-is-lamar" aria-label="Permalink to &quot;What is Lamar?&quot;">​</a></h2><p>Lamar is an alternative <a href="https://www.martinfowler.com/articles/injection.html" target="_blank" rel="noreferrer">Inversion of Control Container</a> that natively supports the <a href="https://code.msdn.microsoft.com/Dependency-injection-in-f789ceaa" target="_blank" rel="noreferrer">ASP.Net Core DI abstractions</a> and a subset of the older <a href="https://structuremap.github.io" target="_blank" rel="noreferrer">StructureMap library</a>. Lamar supports quite a bit more functionality than the barebones <code>ServiceProvider</code> model in .NET as well as conforming to the specified behavior demanded by our Microsoft overlords. People who choose Lamar over the vanilla <code>ServiceProvider</code> generally do so because Lamar is less fussy about usages, has more options for conventional and auto-registrations, decorators and interceptors, and most importantly in our book, because Lamar has more robust diagnostic support.</p><p>Despite <em>almost</em> walking away from Lamar, the Lamar community is planning to continue supporting Lamar at least until <code>ServicdeProvider</code> becomes more capable.</p><h2 id="history-and-motivation" tabindex="-1">History and Motivation <a class="header-anchor" href="#history-and-motivation" aria-label="Permalink to &quot;History and Motivation&quot;">​</a></h2><p><a href="https://structuremap.github.io" target="_blank" rel="noreferrer">StructureMap</a> was the first production capable Inversion of Control container in the .Net ecosystem, with its first production usage in the summer of 2004. Despite its success, StructureMap&#39;s internals were not keeping up well with modern usage within ASP.Net Core applications and lagged in performance. Lamar was conceived as a replacement for StructureMap that would hugely improve upon StructureMap&#39;s performance, be completely compliant with the new ASP.Net Core DI behavior, and provide an easy off ramp for existing StructureMap users.</p><h2 id="lamar-as-ioc-container" tabindex="-1">Lamar as IoC Container <a class="header-anchor" href="#lamar-as-ioc-container" aria-label="Permalink to &quot;Lamar as IoC Container&quot;">​</a></h2><p>To get started, just add <a href="https://www.nuget.org/packages/Lamar/" target="_blank" rel="noreferrer">Lamar</a> to your project through Nuget.</p><p>Most of the time you use an IoC container these days, it&#39;s probably mostly hidden inside of some kind of application framework. However, if you wanted to use Lamar all by itself you would first <a href="/lamar/guide/ioc/bootstrapping.html">bootstrap a Lamar container</a> with all its service registrations something like this:</p><p><a id="snippet-sample_start-a-container"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Using StructureMap style registrations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    x.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IClock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Clock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Using ASP.Net Core DI style registrations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    x.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddTransient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IClock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Clock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // and lots more services in all likelihood</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/Lamar.Testing/Samples/GettingStarted.cs#L11-L24" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_start-a-container" title="Start of snippet">anchor</a></sup></p><p>Now, to resolve services from your container:</p><p><a id="snippet-sample_resolving-services-quickstart"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// StructureMap style</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get a required service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> clock</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> container.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IClock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Try to resolve a service if it&#39;s registered</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> service</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> container.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TryGetInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ASP.Net Core style</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> provider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)container;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get a required service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> clock2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> provider.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetRequiredService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IClock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Try to resolve a service if it&#39;s registered</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> service2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> provider.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/Lamar.Testing/Samples/GettingStarted.cs#L26-L45" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_resolving-services-quickstart" title="Start of snippet">anchor</a></sup></p><p>Definitely note that the old StructureMap style of service resolution is semantically different than ASP.Net Core&#39;s DI resolution methods. That&#39;s been the cause of much user aggravation over the years.</p><h2 id="lamar-within-asp-net-core-applications" tabindex="-1">Lamar within ASP.Net Core Applications <a class="header-anchor" href="#lamar-within-asp-net-core-applications" aria-label="Permalink to &quot;Lamar within ASP.Net Core Applications&quot;">​</a></h2><p>To use Lamar within ASP.Net Core applications, also install the <a href="https://www.nuget.org/packages/Lamar.Microsoft.DependencyInjection/" target="_blank" rel="noreferrer">Lamar.Microsoft.DependencyInjection</a> library from Nuget to your ASP.Net Core project (and you can thank Microsoft for the clumsy naming convention, thank you).</p><p>With that NuGet installed, your normal ASP.Net Core bootstrapping changes just slightly. When you bootstrap your <code>IWebHostBuilder</code> object that configures ASP.Net Core, you also need to call the <code>UseLamar()</code> method as shown below:</p><p><a id="snippet-sample_getting-started-main"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebHostBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    builder</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Replaces the built in DI container</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // with Lamar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UseLamar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Normal ASP.Net Core bootstrapping</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UseUrls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://localhost:5002&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UseKestrel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UseStartup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    builder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/Lamar.AspNetCoreTests/Samples/StartUp.cs#L14-L31" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_getting-started-main" title="Start of snippet">anchor</a></sup></p><p>If you use a <code>StartUp</code> class for extra configuration, your <code>ConfigureContainer()</code> method <em>can</em> take in a <code>ServiceRegistry</code> object from Lamar for service registrations in place of the ASP.Net Core <code>IServiceCollection</code> interface as shown below:</p><p><a id="snippet-sample_getting-started-startup"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Startup</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Take in Lamar&#39;s ServiceRegistry instead of IServiceCollection</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // as your argument, but fear not, it implements IServiceCollection</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // as well</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConfigureContainer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceRegistry</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Supports ASP.Net Core DI abstractions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddMvc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddLogging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Also exposes Lamar specific registrations</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // and functionality</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TheCallingAssembly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithDefaultConventions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IApplicationBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UseMvc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/Lamar.AspNetCoreTests/Samples/StartUp.cs#L35-L61" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_getting-started-startup" title="Start of snippet">anchor</a></sup></p><p>You can also still write <code>ConfigureServices(IServiceCollection)</code>, but you&#39;d miss out on most of Lamar&#39;s extra functionality beyond what that abstraction provides.</p><p>And that is that, you&#39;re ready to run your ASP.Net Core application with Lamar handling service resolution and object cleanup during your HTTP requests.</p><h2 id="lamar-with-asp-net-core-minimal-hosting" tabindex="-1">Lamar with ASP.NET Core Minimal Hosting <a class="header-anchor" href="#lamar-with-asp-net-core-minimal-hosting" aria-label="Permalink to &quot;Lamar with ASP.NET Core Minimal Hosting&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The <code>[FromServices]</code> attribute is not necessary when using Lamar as the backing DI container behind <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/minimal-apis?view=aspnetcore-6.0" target="_blank" rel="noreferrer">Minimal API</a> applications because Lamar implements the ASP.Net <code>IServiceProviderIsService</code> interface.</p></div><p>Minimal hosting provides you with a condensed programming experience, only exposing the minimum required to get an ASP.NET Core application running. You can still use Lamar with the minimal hosting approach with the existing <code>UseLamar()</code> extension methods to wire Lamar into the ASP.NET Core infrastructure. Follow the example below. You will still need the NuGet packages mentioned in the previous section.</p><p><a id="snippet-sample_using_lamar_with_minimal_api"></a></p><div class="language-cs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> WebApplication.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CreateBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(args);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// use Lamar as DI.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">builder.Host.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UseLamar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">registry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // register services using Lamar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    registry.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ITest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MyTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Add your own Lamar ServiceRegistry collections</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // of registrations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    registry.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IncludeRegistry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MyRegistry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // discover MVC controllers -- this was problematic</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // inside of the UseLamar() method, but is &quot;fixed&quot; in</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Lamar V8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    registry.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddControllers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> builder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MapControllers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Add Minimal API routes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MapGet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ITest</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> service</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> service.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SayHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/LamarWithMinimalApiOnNet6/Program.cs#L8-L37" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_using_lamar_with_minimal_api" title="Start of snippet">anchor</a></sup></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Note, there are a couple overloads for <code>UseLamar()</code> that may be more or less appropriate for your exact application&#39;s needs.</p></div><h2 id="lamar-for-runtime-code-generation-compilation" tabindex="-1">Lamar for Runtime Code Generation &amp; Compilation <a class="header-anchor" href="#lamar-for-runtime-code-generation-compilation" aria-label="Permalink to &quot;Lamar for Runtime Code Generation &amp; Compilation&quot;">​</a></h2><p>Please see <a href="./compilation/">compilation</a> for more information.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><!----></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/lamar/guide/ioc/" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Lamar as IoC Container</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"guide_compilation_assembly-generator.md\":\"BO4yNRrE\",\"guide_compilation_frames_extension-methods.md\":\"Cr08iMBC\",\"guide_compilation_frames_frame.md\":\"ehqzhZb4\",\"guide_compilation_frames_index.md\":\"CB7Voqbw\",\"guide_compilation_frames_injected-fields.md\":\"uDLmj7mQ\",\"guide_compilation_frames_variables.md\":\"C0UqaQmr\",\"guide_compilation_index.md\":\"DO5yFNKP\",\"guide_compilation_source-writer.md\":\"DmaFS_yH\",\"guide_index.md\":\"lXc6eUv0\",\"guide_ioc_aspnetcore.md\":\"2p4tcF93\",\"guide_ioc_auto-wiring.md\":\"DtyouIC2\",\"guide_ioc_blazor.md\":\"CDmQoIQA\",\"guide_ioc_bootstrapping.md\":\"vXKhsQfO\",\"guide_ioc_concepts.md\":\"hu7Ac-Fp\",\"guide_ioc_decorators.md\":\"CcecmKX0\",\"guide_ioc_diagnostics_build-plans.md\":\"C_44sVzO\",\"guide_ioc_diagnostics_environment-tests.md\":\"DD_MlbHP\",\"guide_ioc_diagnostics_index.md\":\"sWKuZJ9D\",\"guide_ioc_diagnostics_type-scanning.md\":\"CJbvCItG\",\"guide_ioc_diagnostics_using-the-container-model.md\":\"DiQ7gGwd\",\"guide_ioc_diagnostics_validating-container-configuration.md\":\"DiHknPnO\",\"guide_ioc_diagnostics_what-do-i-have.md\":\"DKxX1mLn\",\"guide_ioc_disposing.md\":\"1y8rOFQj\",\"guide_ioc_generics.md\":\"DxXbLF2r\",\"guide_ioc_index.md\":\"CfBJYWlv\",\"guide_ioc_injecting-at-runtime.md\":\"BttZg1kK\",\"guide_ioc_lambdas.md\":\"B0bwXutE\",\"guide_ioc_lazy-resolution.md\":\"CRpKkuXa\",\"guide_ioc_lifetime.md\":\"Hy7r5yeb\",\"guide_ioc_nested-containers.md\":\"BKfTwtki\",\"guide_ioc_registration_attributes.md\":\"DaWBA3KM\",\"guide_ioc_registration_auto-registration-and-conventions.md\":\"DRjjlQoW\",\"guide_ioc_registration_changing-configuration-at-runtime.md\":\"CvX_e-bI\",\"guide_ioc_registration_configured-instance.md\":\"DFOXM_GC\",\"guide_ioc_registration_constructor-selection.md\":\"C-uSzVfL\",\"guide_ioc_registration_existing-objects.md\":\"C-D6J46x\",\"guide_ioc_registration_index.md\":\"iDBOcSAh\",\"guide_ioc_registration_inline-dependencies.md\":\"DJRGgnQf\",\"guide_ioc_registration_overrides.md\":\"CXwXripr\",\"guide_ioc_registration_policies.md\":\"DMF6OX1x\",\"guide_ioc_registration_registry-dsl.md\":\"Ci6q_96G\",\"guide_ioc_resolving_get-a-service-by-plugin-type-and-name.md\":\"w1g0ULYz\",\"guide_ioc_resolving_get-a-service-by-service-type.md\":\"Zxuey_eq\",\"guide_ioc_resolving_get-all-services-by-service-type.md\":\"DuEve47a\",\"guide_ioc_resolving_index.md\":\"qxKKzGKc\",\"guide_ioc_resolving_requesting-a-concrete-type.md\":\"CDX9bRN1\",\"guide_ioc_resolving_try-getting-an-optional-service-by-service-type-and-name.md\":\"D1moDDA5\",\"guide_ioc_resolving_try-getting-an-optional-service-by-service-type.md\":\"DYHQIp0H\",\"guide_ioc_setter-injection.md\":\"DWG9jJ9S\",\"guide_ioc_working-with-enumerable-types.md\":\"BX-JSmqt\",\"index.md\":\"DJPVxN8O\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Lamar\",\"description\":\".NET Fast Inversion of Control and Dynamic code weaving tools\",\"base\":\"/lamar/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":null,\"repo\":\"JasperFx/lamar\",\"docsDir\":\"docs\",\"docsBranch\":\"master\",\"editLinks\":true,\"editLinkText\":\"Suggest changes to this page\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/\"},{\"text\":\"Release Notes\",\"link\":\"https://github.com/JasperFx/lamar/releases\"},{\"text\":\"Discord | Join Chat\",\"link\":\"https://discord.gg/WMxrvegf8H\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":{\"/\":[{\"text\":\"Getting Started\",\"collapsed\":false,\"items\":[{\"text\":\"What is Lamar\",\"link\":\"/guide/\"}]},{\"text\":\"Inversion of Control\",\"collapsed\":false,\"items\":[{\"text\":\"Lamar as IoC Container\",\"link\":\"/guide/ioc/\"},{\"text\":\"Software Design Concepts\",\"link\":\"/guide/ioc/concepts\"},{\"text\":\"Bootstrapping a Container\",\"link\":\"/guide/ioc/bootstrapping\"},{\"text\":\"Integration with ASP.NET Core\",\"link\":\"/guide/ioc/aspnetcore\"},{\"text\":\"Integration with Blazor\",\"link\":\"/guide/ioc/blazor\"},{\"text\":\"Registration\",\"link\":\"/guide/ioc/registration/\",\"children\":[{\"text\":\"ServiceRegistry DSL\",\"link\":\"/guide/ioc/registration/registry-dsl\"},{\"text\":\"Inline Dependencies\",\"link\":\"/guide/ioc/registration/inline-dependencies\"},{\"text\":\"Auto-Registration and Conventions\",\"link\":\"/guide/ioc/registration/auto-registration-and-conventions\"},{\"text\":\"Working with IConfiguredInstance\",\"link\":\"/guide/ioc/registration/configured-instance\"},{\"text\":\"Policies\",\"link\":\"/guide/ioc/registration/policies\"},{\"text\":\"Changing Configuration at Runtime\",\"link\":\"/guide/ioc/registration/changing-configuration-at-runtime\"},{\"text\":\"Constructor Selection\",\"link\":\"/guide/ioc/registration/constructor-selection\"},{\"text\":\"Registering Existing Objects\",\"link\":\"/guide/ioc/registration/existing-objects\"},{\"text\":\"Using Attributes for Configuration\",\"link\":\"/guide/ioc/registration/attributes\"},{\"text\":\"Overriding Service Registrations\",\"link\":\"/guide/ioc/registration/overrides\"}]},{\"text\":\"Service Lifetimes\",\"link\":\"/guide/ioc/lifetime\"},{\"text\":\"Resolving Services\",\"link\":\"/guide/ioc/resolving/\",\"children\":[{\"text\":\"Get a Service by Service Type\",\"link\":\"/guide/ioc/resolving/get-a-service-by-service-type\"},{\"text\":\"Get a Service by Service Type and Name\",\"link\":\"/guide/ioc/resolving/get-a-service-by-service-type-and-name\"},{\"text\":\"Get all Services by Service Type\",\"link\":\"/guide/ioc/resolving/get-all-services-by-service-type\"},{\"text\":\"Try Getting an Optional Service by Service Type\",\"link\":\"/guide/ioc/resolving/try-getting-an-optional-service-by-service-type\"},{\"text\":\"Try Getting an Optional Service by Service Type and Name\",\"link\":\"/guide/ioc/resolving/try-getting-an-optional-service-by-service-type-and-name\"},{\"text\":\"Auto Resolving Concrete Types\",\"link\":\"/guide/ioc/resolving/requesting-a-concrete-type\"}]},{\"text\":\"Generic Types\",\"link\":\"/guide/ioc/generics\"},{\"text\":\"Decorators, Interceptors, and Activators\",\"link\":\"/guide/ioc/decorators\"},{\"text\":\"Lamar Diagnostics\",\"link\":\"/guide/ioc/diagnostics/\",\"children\":[{\"text\":\"WhatDoIHave()\",\"link\":\"/guide/ioc/diagnostics/what-do-i-have\"},{\"text\":\"Validating Container Configuration\",\"link\":\"/guide/ioc/diagnostics/validating-container-configuration\"},{\"text\":\"Environment Tests\",\"link\":\"/guide/ioc/diagnostics/environment-tests\"},{\"text\":\"Build Plans\",\"link\":\"/guide/ioc/diagnostics/build-plans\"},{\"text\":\"Using the Container Model\",\"link\":\"/guide/ioc/diagnostics/using-the-container-model\"},{\"text\":\"Type Scanning Diagnostics\",\"link\":\"/guide/ioc/diagnostics/type-scanning\"}]},{\"text\":\"Auto Wiring\",\"link\":\"/guide/ioc/auto-wiring\"},{\"text\":\"Building Objects with Lambdas\",\"link\":\"/guide/ioc/lambdas\"},{\"text\":\"Injecting Services at Runtime\",\"link\":\"/guide/ioc/injecting-at-runtime\"},{\"text\":\"Lamar, IDisposable, and IAsyncDisposable\",\"link\":\"/guide/ioc/disposing\"},{\"text\":\"Lazy Resolution\",\"link\":\"/guide/ioc/lazy-resolution\"},{\"text\":\"Nested Containers (Per Request/Transaction)\",\"link\":\"/guide/ioc/nested-containers\"},{\"text\":\"Setter Injection\",\"link\":\"/guide/ioc/setter-injection\"},{\"text\":\"Working with Enumerable Types\",\"link\":\"/guide/ioc/working-with-enumerable-types\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>